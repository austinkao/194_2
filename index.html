<!DOCTYPE html><html><head><meta charset="utf-8"><title>index.html.html</title><style></style></head><body id="preview">
<h4 class="code-line" data-line-start=0 data-line-end=1><a id="CS19426_Project_2_0"></a>CS194-26 Project 2</h4>
<h3 class="code-line" data-line-start=2 data-line-end=3><a id="Fun with Filters and Frequencies!"></a>Fun with Filters and Frequencies!</h3>
<h2 class="code-line" data-line-start=4 data-line-end=5><a id="Austin_Kao_4"></a>Austin Kao</h2>
  
  
<h2 class="code-line" data-line-start=6 data-line-end=7><a id="Overview_6"></a>Part 1.1: Finite Difference Operator</h2>
<p class="has-line-data" data-line-start="8" data-line-end="9">
  In this section, we show the partial derivative in x and y of the cameraman image 
  by convolving the image with finite difference operators D_x and D_y
  </p>
  
  <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman.png" alt=""height="350">&lt;example image&gt;</p>
  <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman_dx.jpg" alt=""height="350">&lt;dx&gt;</p>
   <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman_dy.jpg" alt=""height="350">&lt;dy&gt;</p>
     <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman_gr_be.jpg" alt=""height="350">&lt;gradient magnitude image&gt;</p>
     <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman_gr.jpg" alt=""height="350">&lt;gradient magnitude image binarized&gt;</p>

  
  
  <h2 class="code-line" data-line-start=6 data-line-end=7><a id="Overview_6"></a>Part 1.2: Derivative of Gaussian (DoG) Filter</h2>
<p class="has-line-data" data-line-start="8" data-line-end="9">
  In this section, we can use a gaussian filter to smooth out the image before applying the partial derivative in x and y too get a better image 
  </p>
  
  <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="dx_f.png" alt=""height="350">&lt;combined gaussian x partial derivative filter&gt;</p>
    <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="dy_f.png" alt=""height="350">&lt;combined gaussian y partial derivative filter&gt;</p>
  <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman_dx2.jpg" alt=""height="350">&lt;smooth dx&gt;</p>
   <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman_dy2.jpg" alt=""height="350">&lt;smooth dy&gt;</p>
     <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman_gr_be2.jpg" alt=""height="350">&lt;smooth gradient magnitude image&gt;</p>
     <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="cameraman_gr2.jpg" alt=""height="350">&lt;smooth gradient magnitude image binarized&gt;</p>

  <p class="has-line-data" data-line-start="8" data-line-end="9">
  also note that convolve the gaussian with D_x and D_y to form one combined filter will give us the same result vs applying the filters one by one
  </p>
  
  
  
  
  <h2 class="code-line" data-line-start=6 data-line-end=7><a id="Overview_6"></a>Part 1.3: Image Straightening</h2>
<p class="has-line-data" data-line-start="8" data-line-end="9">
  In this section, we will straighten the image by 1), Rotate the image by the proposed rotation angle using the built in rotation function in python
  2), Compute the gradient angle of the edges in the image 3), Compute a histogram of these angles and finally pick the rotation with the maximum number of horizontal and vertical edges
  the results are shown below 
  </p>
  
  <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="facade.jpg" alt=""height="350">&lt;before&gt;</p>
  <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="Screen Shot 2020-09-24 at 4.11.03 PM.png" alt=""height="350">&lt;histogram&gt;</p>
   <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="facade_s.jpg" alt=""height="350">&lt;after&gt;</p>

    <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="pisa.jpg" alt=""height="350">&lt;before&gt;</p>
  <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="Screen Shot 2020-09-24 at 4.14.17 PM.png" alt=""height="350">&lt;histogram&gt;</p>
   <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="pisa_s.jpg" alt=""height="350">&lt;after&gt;</p>

    <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="b2.jpg" alt=""height="350">&lt;before&gt;</p>
  <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="Screen Shot 2020-09-24 at 4.20.07 PM.png" alt=""height="350">&lt;histogram&gt;</p>
   <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="b2_s.jpg" alt=""height="350">&lt;after&gt;</p>

    <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="b3.jpg" alt=""height="350">&lt;failure case&gt;</p>
   <p class="has-line-data" data-line-start="16" data-line-end="17"><img src="b3_s.jpg" alt=""height="350">&lt;see above this image didn't work due to having lines of different angle&gt;</p>

  
  
  
  
 <h2 class="code-line" data-line-start=10 data-line-end=11><a id="Approach_10"></a>Approach</h2>
<p class="has-line-data" data-line-start="12" data-line-end="13">I fisrt divide the image into 3 parts. Than I aligned them by calculating the gradient in the Y axis and compared the image to find an offset thatâ€™s best fitted. multiscale paramid is also used to saved runtime when the image is too big.</p>
<h2 class="code-line" data-line-start=14 data-line-end=15><a id="Image_14"></a>Image</h2>
<p class="has-line-data" data-line-start="16" data-line-end="17"><img src="out_path/cathedral.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="18" data-line-end="19"><img src="out_path/castle.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="20" data-line-end="21"><img src="out_path/emir.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="22" data-line-end="23"><img src="out_path/icon.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="24" data-line-end="25"><img src="out_path/harvesters.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="26" data-line-end="27"><img src="out_path/lady.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="28" data-line-end="29"><img src="out_path/melons.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="30" data-line-end="31"><img src="out_path/monastery.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="32" data-line-end="33"><img src="out_path/onion.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="34" data-line-end="35"><img src="out_path/self_portrait.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="36" data-line-end="37"><img src="out_path/three_generations.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="38" data-line-end="39"><img src="out_path/tobolsk.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="40" data-line-end="41"><img src="out_path/train.jpg" alt=""height="350">&lt;br&gt;</p>
<p class="has-line-data" data-line-start="42" data-line-end="45"><img src="out_path/workshop.jpg" alt=""height="350"><br>
here is a image of my own choosing<br>
<img src="out_path/extra.jpg" alt="">&lt;br&gt;</p>
<h2 class="code-line" data-line-start=45 data-line-end=46><a id="bed_result_45"height="350"></a>bed result</h2>
<p class="has-line-data" data-line-start="46" data-line-end="48"height="350">out of all the images, the only bad one is melons. <img src="out_path/melons.jpg" alt=""height="350">&lt;br&gt;<br>
for some unknown reason. I think the most possible reason is that the displacement is high than other images. the image is later improved a little by searching over a wider range of pixels. <img src="out_path/melon.jpg" alt=""height="350">&lt;br&gt; but more improvement can still be made.   </p>
<p class="has-line-data" data-line-start="49" data-line-end="53"height="350">##bells and whistles<br>
instead of using the default equations for comparing image alignments. I used gradient which had shown to generate better results. In addation, while summing over the differences, only the middle 90% of the image were used as the some edges are damaged and will influence the results.<br>
<img src="out_path/cathedral.jpg" alt=""height="350">&lt;br&gt;<br>
<img src="out_path/bad.jpg" alt=""height="350">&lt;br&gt;</p>
</body></html>
